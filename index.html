<!DOCTYPE html>
<html>
    <head>
        <title>Input Model</title>
        <link rel="stylesheet" href ="index.css">
    </head>
    <body>
        <div id = "topBar">
            <a id = "backButton"href="history.back()"><- Go Back</a>
        </div>
        <div id ="content">
            <h3 id = "subTitle">Input Model</h3>
            <p id = "explanation">Create and train your model in https://ml-machine.org/. Save your model and then drag and drop your file into the box here.</p>
        </div>
        <div id = "fileInputSpace" ondrop = "dropHandler(event);">
                <p id = "inputHereMes">Drag and drop files here</p>
                <p id = "inputFileMes">Empty</p>
        </div>
    </body>
    <script>
        fileInputSpace.ondragover = function(e){
            e.preventDefault();
            return false;
        }
        function dropHandler(ev) {
            console.log("File(s) dropped");

            // Prevent default behavior (Prevent file from being opened)
            ev.preventDefault();

            if (ev.dataTransfer.items) {
                // Use DataTransferItemList interface to access the file(s)
                [...ev.dataTransfer.items].forEach((item, i) => {
                // If dropped items aren't files, reject them
                if (item.kind === "file") {
                    const file = item.getAsFile();
                    console.log(`… file[${i}].name = ${file.name}`);
                    document.getElementById("inputFileMes").textContent = "Input files: ";
                    document.getElementById("inputFileMes").textContent =  document.getElementById("inputFileMes").textContent+file.name+", ";
                
                }
                });
            } else {
                // Use DataTransfer interface to access the file(s)
                [...ev.dataTransfer.files].forEach((file, i) => {
                console.log(`… file[${i}].name = ${file.name}`);
                });
            }
        }

    </script>
</html>